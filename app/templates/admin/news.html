{% extends "new_sidebar/new_base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block main_content %}
    <div id="goes_here" class="col-sm-12" style="height:100vh; margin: auto; display: block; box-shadow: 0 2px 8px rgba(0,0,0,.08);background-color: #ffffff;">
        <div class="row" style="overflow-y: auto; height: 100vh">
            <div class="col-sm-12" style="padding: 10px 15px">
                <h4>News Stories</h4>
                <div class="row">
                    <div class="col-xs-6">
                        <button class="sidenav_btn" data-toggle="modal" data-target="#add_news_story">+ Add News</button>
                    </div>
                </div>
                <hr style="margin-top: 10px; margin-bottom: 0">
                    <div class="table-responsive" style="max-height: 615px; overflow-y: auto">
                        <table class="table table-striped table-bordered">
                            <thead>
                            <th class="speaker_col">Img</th>
                            <th class="speaker_col">Title</th>
                            <th class="speaker_col">Description</th>
                            <th class="speaker_col">Link</th>
                            <th class="speaker_col">Date</th>
                            <th class="speaker_col">Edit</th>
                            </thead>
                            <tbody>
                            {% for news in stories %}
                                <tr>
                                    <td class="speaker_col"><img src="{{ news.avatar() }}" style="height: 50px; width: 50px"> </td>
                                    <td class="speaker_col">{{ news.title }}</td>
                                    <td class="speaker_col">{{ news.description }}</td>
                                    <td class="speaker_col">{{ news.link }}</td>
                                    <td class="speaker_col">{{ moment(news.added).format('LLL') }}</td>
                                    <td class="speaker_col"><button class="btn btn-default edit_news" news-id="{{ news.id }}">Edit</button> </td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="add_news_story" tabindex="-1" role="dialog" aria-labelledby="add_news_story" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content" style="background-color: #ffffff; border-radius: 15px; margin-top: 10vh !important; min-height: 70vh; max-width: 40vw; margin: auto; overflow: auto">
                    <div class="modal-body">
                        <form id="news_form">
                        <div class="row">
                            <div class="col-sm-12">
                                <h3 style="display: inline-block">Add News</h3>
                                <div class="post-option" data-dismiss="modal" style="display: inline-block; float: right">X</div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-1"></div>
                            <div class="col-xs-10">
                                <div class="row">
                                    <div class="col-xs-12">
                                        <div class="row">
                                            <div class="col-xs-6">
                                                <div class="input_form_test">
                                                    <input class="special_input transparent" id="news_title" name="news_title" required="" type="text" value="">
                                                    <label class="special_label" for="news_title">Title *</label>
                                                </div>
                                            </div>
                                            <div class="col-xs-6">
                                                <div class="input_form_test">
                                                    <input class="special_input transparent" id="news_link" name="news_link" required="" type="text" value="">
                                                    <label class="special_label" for="news_link">Link *</label>
                                                </div>
                                            </div>
                                        </div>
                                        <label for="news_description" style="color: #999999;">Description </label>
                                        <textarea class="form-control special_text" id="news_description" name="news_description" placeholder="Story Title" required="" style="height:80px; overflow:auto; resize:none; margin-top: 5px; border: 1px solid #9e9e9e; font-size: 14px !important; margin-bottom: 5px"></textarea>
                                        <input id="news_img" name="news_img" type="file" style="margin: 10px 0">
                                        <div class="register-submit btn" id="submit_news" style="margin-top: 15px; margin: auto; display: block">+ Add News</div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-1"></div>
                        </div>
                        </form>
                    </div>
                </div>
            </div>
</div>
    <div class="modal fade" id="edit_news_story" tabindex="-1" role="dialog" aria-labelledby="edit_news_story" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content" style="background-color: #ffffff; border-radius: 15px; margin-top: 10vh !important; min-height: 70vh; max-width: 40vw; margin: auto; overflow: auto">
                    <div class="modal-body">
                        <form id="news_form_edit">

                        </form>
                    </div>
                </div>
            </div>
    </div>

{% endblock %}